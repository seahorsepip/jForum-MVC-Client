/**
* simplePagination.js v1.6
* A simple jQuery pagination plugin.
* http://flaviusmatis.github.com/simplePagination.js/
*
* Copyright 2012, Flavius Matis
* Released under the MIT license.
* http://flaviusmatis.github.com/license.html
*/
(function(g){var d={init:function(a){var b=g.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:0,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",ellipsePageSet:!0,cssStyle:"light-theme",listStyle:"",labelMap:[],selectOnClick:!0,nextAtFront:!1,invertPageOrder:!1,useStartEdge:!0,useEndEdge:!0,onPageClick:function(a,b){},onInit:function(){}},a||{}),c=this;b.pages=b.pages?b.pages:Math.ceil(b.items/b.itemsOnPage)?Math.ceil(b.items/b.itemsOnPage):1;b.currentPage=b.currentPage?b.currentPage-1:b.invertPageOrder?b.pages-1:0;b.halfDisplayed=b.displayedPages/2;this.each(function(){c.addClass(b.cssStyle+" simple-pagination").data("pagination",b);d._draw.call(c)});b.onInit();return this},selectPage:function(a){d._selectPage.call(this,a-1);return this},prevPage:function(){var a=this.data("pagination");a.invertPageOrder?a.currentPage<a.pages-1&&d._selectPage.call(this,a.currentPage+1):0<a.currentPage&&d._selectPage.call(this,a.currentPage-1);return this},nextPage:function(){var a=this.data("pagination");a.invertPageOrder?0<a.currentPage&&d._selectPage.call(this,a.currentPage-1):a.currentPage<a.pages-1&&d._selectPage.call(this,a.currentPage+1);return this},getPagesCount:function(){return this.data("pagination").pages},setPagesCount:function(a){this.data("pagination").pages=a},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){this.empty();return this},drawPage:function(a){var b=this.data("pagination");b.currentPage=a-1;this.data("pagination",b);d._draw.call(this);return this},redraw:function(){d._draw.call(this);return this},disable:function(){var a=this.data("pagination");a.disabled=!0;this.data("pagination",a);d._draw.call(this);return this},enable:function(){var a=this.data("pagination");a.disabled=!1;this.data("pagination",a);d._draw.call(this);return this},updateItems:function(a){var b=this.data("pagination");b.items=a;b.pages=d._getPages(b);this.data("pagination",b);d._draw.call(this)},updateItemsOnPage:function(a){var b=this.data("pagination");b.itemsOnPage=a;b.pages=d._getPages(b);this.data("pagination",b);d._selectPage.call(this,0);return this},getItemsOnPage:function(){return this.data("pagination").itemsOnPage},_draw:function(){var a=this.data("pagination"),b=d._getInterval(a),c;d.destroy.call(this);var f="UL"===("function"===typeof this.prop?this.prop("tagName"):this.attr("tagName"))?this:g("<ul"+(a.listStyle?' class="'+a.listStyle+'"':"")+"></ul>").appendTo(this);a.prevText&&d._appendItem.call(this,a.invertPageOrder?a.currentPage+1:a.currentPage-1,{text:a.prevText,classes:"prev"});a.nextText&&a.nextAtFront&&d._appendItem.call(this,a.invertPageOrder?a.currentPage-1:a.currentPage+1,{text:a.nextText,classes:"next"});if(!a.invertPageOrder){if(0<b.start&&0<a.edges){if(a.useStartEdge){var e=Math.min(a.edges,b.start);for(c=0;c<e;c++)d._appendItem.call(this,c)}a.edges<b.start&&1!=b.start-a.edges?f.append('<li class="disabled"><span class="ellipse">'+a.ellipseText+"</span></li>"):1==b.start-a.edges&&d._appendItem.call(this,a.edges)}}else if(b.end<a.pages&&0<a.edges){if(a.useStartEdge)for(e=Math.max(a.pages-a.edges,b.end),c=a.pages-1;c>=e;c--)d._appendItem.call(this,c);a.pages-a.edges>b.end&&1!=a.pages-a.edges-b.end?f.append('<li class="disabled"><span class="ellipse">'+a.ellipseText+"</span></li>"):1==a.pages-a.edges-b.end&&d._appendItem.call(this,b.end)}if(a.invertPageOrder)for(c=b.end-1;c>=b.start;c--)d._appendItem.call(this,c);else for(c=b.start;c<b.end;c++)d._appendItem.call(this,c);if(!a.invertPageOrder){if(b.end<a.pages&&0<a.edges&&(a.pages-a.edges>b.end&&1!=a.pages-a.edges-b.end?f.append('<li class="disabled"><span class="ellipse">'+a.ellipseText+"</span></li>"):1==a.pages-a.edges-b.end&&d._appendItem.call(this,b.end),a.useEndEdge))for(c=e=Math.max(a.pages-a.edges,b.end);c<a.pages;c++)d._appendItem.call(this,c)}else if(0<b.start&&0<a.edges&&(a.edges<b.start&&1!=b.start-a.edges?f.append('<li class="disabled"><span class="ellipse">'+a.ellipseText+"</span></li>"):1==b.start-a.edges&&d._appendItem.call(this,a.edges),a.useEndEdge))for(e=Math.min(a.edges,b.start),c=e-1;0<=c;c--)d._appendItem.call(this,c);a.nextText&&!a.nextAtFront&&d._appendItem.call(this,a.invertPageOrder?a.currentPage-1:a.currentPage+1,{text:a.nextText,classes:"next"});a.ellipsePageSet&&!a.disabled&&d._ellipseClick.call(this,f)},_getPages:function(a){return Math.ceil(a.items/a.itemsOnPage)||1},_getInterval:function(a){return{start:Math.ceil(a.currentPage>a.halfDisplayed?Math.max(Math.min(a.currentPage-a.halfDisplayed,a.pages-a.displayedPages),0):0),end:Math.ceil(a.currentPage>a.halfDisplayed?Math.min(a.currentPage+a.halfDisplayed,a.pages):Math.min(a.displayedPages,a.pages))}},_appendItem:function(a,b){var c=this,f,e;e=c.data("pagination");var h=g("<li></li>"),k=c.find("ul");a=0>a?0:a<e.pages?a:e.pages-1;f={text:a+1,classes:""};e.labelMap.length&&e.labelMap[a]&&(f.text=e.labelMap[a]);f=g.extend(f,b||{});a==e.currentPage||e.disabled?(e.disabled||"prev"===f.classes||"next"===f.classes?h.addClass("disabled"):h.addClass("active"),e=g('<span class="current">'+f.text+"</span>")):(e=g('<a href="'+e.hrefTextPrefix+(a+1)+e.hrefTextSuffix+'" class="page-link">'+f.text+"</a>"),e.click(function(b){return d._selectPage.call(c,a,b)}));f.classes&&e.addClass(f.classes);h.append(e);k.length?k.append(h):c.append(h)},_selectPage:function(a,b){var c=this.data("pagination");c.currentPage=a;c.selectOnClick&&d._draw.call(this);return c.onPageClick(a+1,b)},_ellipseClick:function(a){var b=this,c=this.data("pagination"),f=a.find(".ellipse");f.addClass("clickable").parent().removeClass("disabled");f.click(function(a){if(!c.disable){a=g(this);var e=(parseInt(a.parent().prev().text(),10)||0)+1;a.html('<input type="number" min="1" max="'+c.pages+'" step="1" value="'+e+'">').find("input").focus().click(function(a){a.stopPropagation()}).keyup(function(a){var e=g(this).val();13===a.which&&""!==e?0<e&&e<=c.pages&&d._selectPage.call(b,e-1):27===a.which&&f.empty().html(c.ellipseText)}).bind("blur",function(a){a=g(this).val();""!==a&&d._selectPage.call(b,a-1);f.empty().html(c.ellipseText);return!1})}return!1})}};g.fn.pagination=function(a){if(d[a]&&"_"!=a.charAt(0))return d[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)g.error("Method "+a+" does not exist on jQuery.pagination");else return d.init.apply(this,arguments)}})(jQuery);